"use strict";
exports.__esModule = true;
exports.onwarn = void 0;
var message = function (warning) {
    if (warning.loc) {
        var loc = warning.loc;
        var locText = "file: ".concat(loc.file, " line ").concat(loc.line, ":").concat(loc.column);
        var frame = warning.frame ? "\n".concat(warning.frame, "\n\n") : '';
        return "".concat(warning.message, " ").concat(locText, " ").concat(frame);
    }
    else {
        return warning.message;
    }
};
var fail = function (warning) {
    throw new Error(message(warning));
};
var warn = function (warning) {
    // eslint-disable-next-line no-console
    console.warn(warning.code, message(warning));
};
var onwarn = function (warning) {
    if (warning.code === 'EMPTY_EXPORT') {
        return;
    }
    else if (warning.code === 'UNRESOLVED_IMPORT') {
        fail(warning);
    }
    else if (warning.code === 'CIRCULAR_DEPENDENCY') {
        fail(warning);
    }
    else if (warning.code === 'THIS_IS_UNDEFINED') {
        fail(warning);
    }
    else if (warning.code === 'MISSING_EXPORT') {
        fail(warning);
    }
    warn(warning);
};
exports.onwarn = onwarn;
