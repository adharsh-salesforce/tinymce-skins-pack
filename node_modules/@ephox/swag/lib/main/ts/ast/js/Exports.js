"use strict";
exports.__esModule = true;
exports.readExports = exports.ExportInfoKind = void 0;
var ExportInfoKind;
(function (ExportInfoKind) {
    ExportInfoKind[ExportInfoKind["Specified"] = 0] = "Specified";
    ExportInfoKind[ExportInfoKind["Variable"] = 1] = "Variable";
})(ExportInfoKind = exports.ExportInfoKind || (exports.ExportInfoKind = {}));
var isVariableDeclaration = function (declaration) {
    return declaration && declaration.type === 'VariableDeclaration';
};
var create = function (name, fromName, kind) {
    return { name: name, fromName: fromName, kind: kind };
};
var readExportDeclaration = function (node) {
    if (isVariableDeclaration(node.declaration)) {
        return node.declaration.declarations.map(function (declaration) {
            var id = declaration.id;
            return create(id.name, id.name, ExportInfoKind.Variable);
        });
    }
    else {
        return node.specifiers.map(function (specifier) {
            return create(specifier.exported.name, specifier.local.name, ExportInfoKind.Specified);
        });
    }
};
var readExports = function (program) {
    return program.body.reduce(function (acc, node) {
        if (node.type === 'ExportNamedDeclaration') {
            var exports_1 = readExportDeclaration(node);
            return acc.concat(exports_1);
        }
        return acc;
    }, []);
};
exports.readExports = readExports;
