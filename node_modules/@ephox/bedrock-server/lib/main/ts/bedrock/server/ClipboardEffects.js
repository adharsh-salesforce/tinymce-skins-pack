"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.route = void 0;
const childProcess = require("child_process");
const path = require("path");
const ExitCodes_1 = require("../util/ExitCodes");
const importClipboard = (basedir, clipboarddir, data) => {
    const fileName = data.import;
    const fullPath = path.join(clipboarddir, fileName);
    const args = [
        path.join(basedir, 'bin/wink.exe'),
        '-i ' + fullPath
    ];
    const result = childProcess.execSync(args.join(' '));
    if (result.length > 0) {
        console.error(result);
        process.exit(ExitCodes_1.ExitCodes.failures.wink);
    }
    return Promise.resolve();
};
const route = (basedir, clipboarddir) => {
    return (data) => {
        return importClipboard(basedir, clipboarddir, data);
    };
};
exports.route = route;
//# sourceMappingURL=ClipboardEffects.js.map