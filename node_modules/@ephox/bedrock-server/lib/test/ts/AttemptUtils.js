"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.assertResult = exports.assertErrors = exports.arbAttempt = exports.arbAttemptPassed = exports.arbAttemptFailed = void 0;
const fast_check_1 = require("fast-check");
const Attempt_1 = require("../../main/ts/bedrock/core/Attempt");
const chai_1 = require("chai");
const arbAttemptFailed = (arbe) => arbe.map(Attempt_1.Attempt.failed);
exports.arbAttemptFailed = arbAttemptFailed;
const arbAttemptPassed = (arba) => arba.map(Attempt_1.Attempt.passed);
exports.arbAttemptPassed = arbAttemptPassed;
const arbAttempt = (arbe, arba) => fast_check_1.default.oneof((0, exports.arbAttemptFailed)(arbe), (0, exports.arbAttemptPassed)(arba));
exports.arbAttempt = arbAttempt;
const assertErrors = (expected, actual) => {
    Attempt_1.Attempt.cata(actual, (errs) => {
        chai_1.assert.deepEqual(errs, expected);
    }, () => {
        chai_1.assert.fail('Expected errors: ' + JSON.stringify(expected));
    });
};
exports.assertErrors = assertErrors;
const assertResult = (expected, actual) => {
    Attempt_1.Attempt.cata(actual, (errs) => {
        chai_1.assert.fail('Unexpected errors: ' + JSON.stringify(errs));
    }, result => {
        chai_1.assert.deepEqual(result, expected);
    });
};
exports.assertResult = assertResult;
//# sourceMappingURL=AttemptUtils.js.map