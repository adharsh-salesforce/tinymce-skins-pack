#! /usr/bin/env node
"use strict";
/* eslint-disable no-console */
Object.defineProperty(exports, "__esModule", { value: true });
const commander_1 = require("commander");
const moxiedoc_1 = require("./moxiedoc");
process.argv[1] = 'moxiedoc';
commander_1.program
    .version('0.2.0')
    .usage('[options] <dir ...>')
    .option('-o, --out <path>', 'output path, default: out')
    .option('-t, --template <template>', 'template name')
    .option('-v, --verbose', 'verbose output')
    .option('--debug', 'debug output')
    .option('--dry', 'dry run only syntax check')
    .option('--fail-on-warning', 'fail if warnings are produced')
    .parse(process.argv);
commander_1.program.on('--help', () => {
    console.log('  Examples:');
    console.log('    moxiedoc js');
    console.log('    moxiedoc -v -t cli -f namespace.Class js/**.js');
    console.log('');
});
if (!commander_1.program.args.length) {
    commander_1.program.help();
}
const opts = commander_1.program.opts();
opts.paths = commander_1.program.args;
const { errors, warnings } = (0, moxiedoc_1.process)(opts);
if (errors > 0 || warnings > 0 && opts.failOnWarning) {
    process.exit(1);
}
//# sourceMappingURL=cli.js.map