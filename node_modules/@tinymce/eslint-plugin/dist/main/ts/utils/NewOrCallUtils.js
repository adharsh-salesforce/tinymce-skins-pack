"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.forIdentifier = void 0;
const ExtractUtils_1 = require("./ExtractUtils");
const forIdentifier = (f) => {
    const checkCallee = (node) => {
        const identifier = (0, ExtractUtils_1.extractIdentifier)(node.callee);
        if (identifier !== null) {
            f(node, identifier);
        }
    };
    const checkArguments = (node) => {
        node.arguments.forEach((arg) => {
            const identifier = (0, ExtractUtils_1.extractIdentifier)(arg);
            if (identifier !== null) {
                f(identifier, identifier);
            }
        });
    };
    return {
        CallExpression: (node) => {
            if (node.type === 'CallExpression') {
                checkCallee(node);
                checkArguments(node);
            }
        },
        NewExpression: (node) => {
            if (node.type === 'NewExpression') {
                checkCallee(node);
                checkArguments(node);
            }
        }
    };
};
exports.forIdentifier = forIdentifier;
//# sourceMappingURL=NewOrCallUtils.js.map